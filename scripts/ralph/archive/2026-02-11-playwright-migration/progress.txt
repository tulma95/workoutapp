# Ralph Progress Log
Started: Tue Feb 11 2026
---

## Codebase Patterns
- Backend stores weights in kg internally, converts to user's preferred unit at API layer
- Use `convertWeightToUserUnit()` helper in services to convert from kg to user's unit
- Use `roundWeight()` from lib/weightRounding.ts for rounding (2.5kg or 5lb increments)
- Always look up user.unitPreference before returning weights to frontend
- Frontend receives weights already in user's unit - no conversion needed on frontend
- For input (user â†’ backend), convert from user's unit to kg for storage

---

## 2026-02-11 20:15 - US-044
- Verified backend unit conversion implementation is complete
- Files already modified (in previous commits):
  - backend/src/services/trainingMax.service.ts - added convertWeightToUserUnit()
  - backend/src/services/workout.service.ts - added formatWorkout() helper
- **Learnings for future iterations:**
  - The unit conversion was implemented earlier in the branch history
  - All training max endpoints (GET, POST setup, PATCH, GET history) return weights in user's unit
  - All workout endpoints (POST, GET current, GET by ID, complete) return weights in user's unit
  - Backend tests cover both kg and lb users with proper conversion assertions
  - LB_TO_KG constant = 2.20462 used throughout for conversions
  - All 133 backend tests passing, typecheck passes
---
